#!/bin/sh
# Auteur :      thuban <thuban@yeuxdelibad.net>
# licence :     MIT

# Description : download all packages and theirs dependencies

. ./obsdiso.conf
OUTDIR=site/home/root/pkg_cache

TODL="
ImageMagick-6.9.9.38.tgz
aalib-1.4p6.tgz
adwaita-icon-theme-3.26.1.tgz
aspell-0.60.6.1p5.tgz
aspell-fr-0.50.3v1.tgz
at-spi2-atk-2.26.2.tgz
at-spi2-core-2.26.2.tgz
atk-2.26.1.tgz
atk2mm-2.24.2p1.tgz
avahi-0.7p1.tgz
babl-0.1.44.tgz
blas-3.7.1.tgz
boehm-gc-7.6.0p1.tgz
boost-1.66.0.tgz
brotli-1.0.2.tgz
bzip2-1.0.6p8.tgz
cairo-1.14.12.tgz
cairomm-1.12.2p1.tgz
cantarell-fonts-0.101.tgz
catfish-1.4.2p0.tgz
cdparanoia-3.a9.8p3.tgz
chocolate-doom-3.0.0.tgz
clucene-core-2.3.3.4p2.tgz
colord-1.3.5.tgz
consolekit2-1.2.1.tgz
cowsay-3.03.tgz
cups-2.2.6p3.tgz
cups-filters-1.20.1.tgz
cups-libs-2.2.6.tgz
cups-pk-helper-0.2.6p0.tgz
curl-7.59.0.tgz
cyrus-sasl-2.1.26p25.tgz
db-4.6.21p5v0.tgz
db-java-4.6.21p6v0.tgz
dbus-1.12.6v0.tgz
dbus-daemon-launch-helper-1.12.6.tgz
dbus-glib-0.110v0.tgz
dconf-0.26.1.tgz
deadbeef-0.7.2p7.tgz
desktop-file-utils-0.23p0.tgz
dina-fonts-2.92p1.tgz
djvulibre-3.5.27p2.tgz
dmenu-4.7.tgz
doomdata-1.9p0.tgz
e2fsprogs-1.42.12p4.tgz
enchant-1.6.1p1.tgz
evince-3.26.0-light.tgz
exo-0.12.0.tgz
faad-2.7p2.tgz
ffmpeg-20180219p0.tgz
ffmpegthumbnailer-2.2.0.tgz
fftw3-3.3.7.tgz
fftw3-common-3.3.7.tgz
firefox-esr-52.7.3.tgz
firefox-esr-i18n-fr-52.7.3.tgz
flac-1.3.2p1.tgz
foomatic-db-4.0.20170503.tgz
foomatic-db-engine-4.0.13.tgz
freefont-ttf-20120503.tgz
fribidi-0.19.7.tgz
gamin-0.1.10p23.tgz
garcon-0.6.1p1.tgz
gcc-libs-4.9.4p8.tgz
gconf2-3.2.6p9.tgz
gcr-3.20.0p0.tgz
gdbm-1.14.1.tgz
gdk-pixbuf-2.36.11.tgz
geany-1.29p3.tgz
gegl-0.2.0p6.tgz
geoclue2-2.4.7.tgz
gettext-0.19.8.1p1.tgz
ghostscript-9.07p7.tgz
ghostscript-fonts-8.11p3.tgz
giflib-5.1.4.tgz
gimp-2.8.22p1.tgz
glew-2.0.0.tgz
glfw-3.2.1p0.tgz
glib2-2.54.3p1.tgz
glib2-networking-2.54.1.tgz
glib2mm-2.54.1.tgz
glm-0.9.8.5.tgz
gmp-6.1.2p1.tgz
gnome-icon-theme-3.12.0p3.tgz
gnome-icon-theme-symbolic-3.12.0p2.tgz
gnome-themes-standard-3.22.3p0.tgz
gnuchess-6.2.5.tgz
gnupg-2.2.4.tgz
gnutls-3.5.18.tgz
gobject-introspection-1.54.1p0.tgz
graphite2-1.3.11.tgz
gsettings-desktop-schemas-3.24.1.tgz
gsl-1.15p2.tgz
gsm-1.0.17.tgz
gstreamer-0.10.36p12.tgz
gstreamer-plugins-base-0.10.36p18.tgz
gstreamer-plugins-good-0.10.31p23v0.tgz
gstreamer1-1.12.4p0.tgz
gstreamer1-plugins-bad-1.12.4.tgz
gstreamer1-plugins-base-1.12.4.tgz
gstreamer1-plugins-good-1.12.4.tgz
gstreamer1-plugins-libav-1.12.4p0.tgz
gstreamer1-plugins-ugly-1.12.4.tgz
gtar-1.29.tgz
gtk+2-2.24.32.tgz
gtk+2-cups-2.24.32.tgz
gtk+3-3.22.29.tgz
gtk+3-cups-3.22.29.tgz
gtk-engines2-2.20.2p9.tgz
gtk-update-icon-cache-3.22.29.tgz
gtk-xfce-engine-3.2.0p2.tgz
gtk2-murrine-engine-0.98.2p6.tgz
gtk2mm-2.24.5p1.tgz
gtksourceview-2.10.5p5.tgz
gtkspell-2.0.16p11.tgz
gutenprint-5.2.13.tgz
gvfs-1.34.2.1.tgz
gvfs-smb-1.34.2.1.tgz
hack-fonts-3.002.tgz
harfbuzz-1.7.6.tgz
harfbuzz-icu-1.7.6.tgz
hermit-font-1.21p1.tgz
hicolor-icon-theme-0.17.tgz
hotplug-diskmount-1.0.2.tgz
hpaio-3.17.7p0.tgz
hpcups-3.17.7p0.tgz
hplip-3.17.7p0.tgz
hplip-common-3.17.7p0.tgz
hunspell-1.6.1p2.tgz
hyphen-2.8.8.tgz
icu4c-58.2p5.tgz
ijs-0.35p2.tgz
imlib2-1.4.10.tgz
inkscape-0.92.3.tgz
irrlicht-1.8.4p2.tgz
iso-codes-3.77.tgz
ja-fonts-funet-19911117p1.tgz
ja-fonts-gnu-1.2.1.tgz
jansson-2.10.tgz
jasper-2.0.14.tgz
javaPathHelper-1.0.tgz
jbig2dec-0.11.tgz
jbigkit-2.1.tgz
jdk-1.8.0.144v0.tgz
jmk-fonts-3.0p5.tgz
jpeg-1.5.3v0.tgz
json-glib-1.4.2.tgz
lame-3.99.5p1.tgz
lapack-3.7.1.tgz
lcms-1.19.tgz
lcms2-2.9.tgz
ldb-1.2.3p0.tgz
libarchive-3.3.2p0.tgz
libart-2.3.21p0.tgz
libass-0.13.7p0.tgz
libassuan-2.5.1p0.tgz
libbluray-1.0.0p0.tgz
libbs2b-3.1.0p2.tgz
libcddb-1.3.2p0.tgz
libcdio-0.80p9.tgz
libcroco-0.6.12.tgz
libcue-1.4.0p0.tgz
libdaemon-0.14p1.tgz
libdvdcss-1.4.1.tgz
libdvdnav-5.0.3v0.tgz
libdvdread-5.0.3p0.tgz
libelf-0.8.13p4.tgz
liberation-fonts-2.00.1p0.tgz
libevent-2.0.22p0.tgz
libexecinfo-0.3p0v0.tgz
libexif-0.6.21p1.tgz
libffi-3.2.1p4.tgz
libgcrypt-1.8.2p0.tgz
libglade2-2.6.4p15v0.tgz
libgpg-error-1.28p0.tgz
libgsf-1.14.42.tgz
libical-3.0.3.tgz
libiconv-1.14p3.tgz
libid3tag-0.15.1bp5.tgz
libidn2-2.0.0p0.tgz
libksba-1.3.5p1.tgz
libltdl-2.4.2p1.tgz
libmad-0.15.1bp4.tgz
libmagic-5.32.tgz
libmikmod-3.3.11.1.tgz
libmms-0.6.2p4.tgz
libmng-1.0.10p3.tgz
libmodplug-0.8.9.0.tgz
libnatpmp-20150609.tgz
libnettle-3.4.tgz
libnotify-0.7.7.tgz
libogg-1.3.3.tgz
libproxy-0.4.15p0.tgz
libqrencode-4.0.0.tgz
libraw-0.18.8.tgz
libreoffice-6.0.2.1v0.tgz
libreoffice-i18n-fr-6.0.2.1v0.tgz
libreoffice-java-6.0.2.1v0.tgz
librsvg-2.40.20.tgz
libsamplerate-0.1.9.tgz
libsecret-0.18.5p0.tgz
libshout-2.3.1.tgz
libsigc++-2.10.0p1.tgz
libsndfile-1.0.27.tgz
libsoup-2.60.3.tgz
libspectre-0.2.8p2.tgz
libtalloc-2.1.11.tgz
libtasn1-4.13p0.tgz
libtheora-1.1.1p3.tgz
libunique-1.1.6p12.tgz
libunistring-0.9.7.tgz
libusb1-1.0.21.tgz
libv4l-1.14.2.tgz
libvorbis-1.3.6.tgz
libvpx-1.6.1v0.tgz
libwebp-0.6.1p0.tgz
libwmf-0.2.8.4p5.tgz
libwnck-2.30.7p8.tgz
libxfce4ui-4.12.1p5.tgz
libxfce4util-4.12.1p0.tgz
libxkbcommon-0.8.0.tgz
libxklavier-5.4.tgz
libxml-2.9.8.tgz
libxslt-1.1.32.tgz
libyajl-2.1.0.tgz
libzip-1.4.0.tgz
linuxlibertine-fonts-otf-5.3.0p0.tgz
linuxlibertine-fonts-ttf-5.3.0p0.tgz
lua-5.1.5p6.tgz
luajit-2.0.5p0.tgz
lynx-2.8.9pl16p0.tgz
lz4-1.8.1.2.tgz
lzo2-2.10.tgz
minetest-0.4.14p2.tgz
miniupnpc-1.9p1.tgz
mousepad-0.4.0p3.tgz
mozilla-dicts-en-GB-1.3p1.tgz
mozilla-dicts-fr-1.3p1.tgz
mozjs17-17.0p4.tgz
mpfr-3.1.5.2.tgz
mpv-0.22.0p1.tgz
mupdf-1.11p2.tgz
musepack-475p2.tgz
neon-0.30.2p1.tgz
net-snmp-5.7.3p14.tgz
nghttp2-1.31.0.tgz
noto-emoji-20150929p0.tgz
noto-fonts-20150929p2.tgz
npth-1.5p0.tgz
nspr-4.19.tgz
nss-3.36.tgz
ntfs_3g-2017.3.23.tgz
openal-1.17.2p0v0.tgz
openjp2-2.3.0.tgz
openldap-client-2.4.45p4.tgz
openpam-20141014.tgz
optipng-0.7.7.tgz
opus-1.2.1.tgz
orage-4.12.1p4.tgz
orc-0.4.24p0.tgz
p11-kit-0.23.2p0.tgz
p5-Clone-0.38.tgz
p5-DBI-1.633.tgz
p5-FreezeThaw-0.5001.tgz
p5-MLDBM-2.05.tgz
p5-Math-Base-Convert-0.08p0.tgz
p5-Module-Runtime-0.014.tgz
p5-Net-Daemon-0.48p0.tgz
p5-Params-Util-1.07p1.tgz
p5-PlRPC-0.2020.tgz
p5-SQL-Statement-1.407.tgz
p5-URI-1.71.tgz
p7zip-16.02p3.tgz
pango-1.40.14.tgz
pangomm-2.40.1p1.tgz
paper-icon-theme-1.4.0.tgz
pcre-8.41.tgz
pcre2-10.23.tgz
pinentry-1.1.0p0.tgz
png-1.6.34.tgz
polkit-0.113p5.tgz
poppler-0.59.0.tgz
poppler-data-0.4.8.tgz
poppler-utils-0.59.0.tgz
popt-1.16p1.tgz
postgresql-client-10.3.tgz
potrace-1.15.tgz
py-Pillow-3.4.2p1.tgz
py-cairo-1.16.3.tgz
py-dbus-1.2.6.tgz
py-dbus-common-1.2.6.tgz
py-dnspython-1.15.0.tgz
py-gobject-2.28.7v0.tgz
py-gobject3-common-3.26.1.tgz
py-gtk2-2.24.0p5.tgz
py-lxml-3.7.0p0.tgz
py-numpy-1.9.2p2.tgz
py-reportlab-3.2.0p2v0.tgz
py-setuptools-28.6.1p0v0.tgz
py3-MarkupSafe-1.0.tgz
py3-Pillow-3.4.2p1.tgz
py3-beaker-1.6.2p5.tgz
py3-cairo-1.16.3.tgz
py3-crypto-2.6.1p4.tgz
py3-cups-1.9.73.tgz
py3-curl-7.43.0.1.tgz
py3-dbus-1.2.6.tgz
py3-gobject3-3.26.1.tgz
py3-mako-0.9.1p3.tgz
py3-pexpect-4.2.1p0.tgz
py3-ptyprocess-0.5.1p0.tgz
py3-setuptools-28.6.1p0v0.tgz
py3-xdg-0.25p3.tgz
python-2.7.14p1.tgz
python-3.6.4p0.tgz
python-tkinter-3.6.4.tgz
qpdf-7.0beta1.tgz
quirks-2.414.tgz
raptor-2.0.15p2.tgz
rasqal-0.9.33p2.tgz
redland-1.0.17p5.tgz
redshift-1.11p3.tgz
ristretto-0.8.2.tgz
roboto-fonts-1.2p2v0.tgz
samba-4.7.6.tgz
samba-util-4.7.6.tgz
sane-backends-1.0.27p1.tgz
sdl-1.2.15p9.tgz
sdl2-2.0.8.tgz
sdl2-mixer-2.0.1p0.tgz
sdl2-net-2.0.1p0.tgz
shared-mime-info-1.9p0.tgz
simple-scan-3.26.3.tgz
smpeg2-2.0.0p0.tgz
soundtouch-1.9.2p2.tgz
spatialindex-1.8.5p0.tgz
speex-1.2.0.tgz
speexdsp-1.2rc3.tgz
sqlite3-3.22.0p0.tgz
sselp-0.2p1.tgz
startup-notification-0.12p5.tgz
system-config-printer-1.5.11.tgz
taglib-1.11.1.tgz
tcl-8.5.19p1.tgz
tdb-1.3.15.tgz
teeworlds-0.6.4p0.tgz
terminus-font-4.46.tgz
tevent-0.9.34p2.tgz
thunar-1.6.14.tgz
thunar-archive-0.3.1p4.tgz
thunderbird-52.7.0.tgz
thunderbird-i18n-fr-52.7.0.tgz
tiff-4.0.9.tgz
tk-8.5.19p1.tgz
tktray-1.3.9p4.tgz
transmission-2.93.tgz
transmission-gtk-2.93.tgz
tremor-20180316.tgz
tumbler-0.2.0p0.tgz
twolame-0.3.13p1.tgz
un-fonts-core-1.0.2.080608p2.tgz
un-fonts-extra-1.0.2.080608p2.tgz
unrar-5.50v1.tgz
unzip-6.0p11.tgz
upower-0.99.7.tgz
vim-8.0.1589-no_x11.tgz
vte3-0.50.2p0.tgz
wavpack-5.1.0p1.tgz
webkitgtk4-2.20.0.tgz
woff2-1.0.2.tgz
x264-20170717p0.tgz
x265-2.7.tgz
xarchiver-0.5.4.12pl0.tgz
xboard-4.9.1p0.tgz
xclip-0.13p0.tgz
xdg-user-dirs-0.17.tgz
xdg-utils-1.1.2p0.tgz
xdotool-3.20160805.1v0.tgz
xfce-4.12p9.tgz
xfce4-appfinder-4.12.0p2.tgz
xfce4-battery-1.1.0p2.tgz
xfce4-clipman-1.4.2p0.tgz
xfce4-cpugraph-1.0.5p6.tgz
xfce4-datetime-0.7.0p2.tgz
xfce4-diskperf-2.6.1p1.tgz
xfce4-genmon-4.0.1p0.tgz
xfce4-mailwatch-1.2.0p6.tgz
xfce4-mixer-4.11.0p3.tgz
xfce4-mount-1.1.2p1.tgz
xfce4-netload-1.3.1p1.tgz
xfce4-notes-1.8.1p1.tgz
xfce4-notifyd-0.4.2.tgz
xfce4-panel-4.12.2.tgz
xfce4-places-1.7.0p2.tgz
xfce4-power-manager-1.6.1.tgz
xfce4-screenshooter-1.8.2p2.tgz
xfce4-session-4.12.1p3.tgz
xfce4-settings-4.12.3.tgz
xfce4-systemload-1.2.1p1.tgz
xfce4-taskmanager-1.2.0p0.tgz
xfce4-terminal-0.8.7.2.tgz
xfce4-time-out-1.0.2p1.tgz
xfce4-wavelan-0.6.0p2.tgz
xfce4-weather-0.8.10.tgz
xfce4-whiskermenu-2.1.5.tgz
xfconf-4.12.1p0.tgz
xfdesktop-4.12.4.tgz
xfwm4-4.12.4p0.tgz
xfwm4-themes-4.10.0.tgz
xvidcore-1.3.4.tgz
xz-5.2.3p0.tgz
yelp-3.26.0p0.tgz
yelp-xsl-3.20.1.tgz
youtube-dl-2018.01.18.tgz
zh-fonts-arphicttf-2.11p4.tgz
zh-fonts-kc-1.05p2.tgz
zh-wqy-bitmapfont-0.9.9.0p2.tgz
zip-3.0p0.tgz
"

mkdir -p $OUTDIR

if [ "$(uname)" = "OpenBSD" ]; then
    DLER="ftp -C"
else
    if [ -n "$(command -v curl)" ]; then
        DLER="curl -O -C -"
    elif [ -n "$(command -v wget)" ]; then
        DLER="wget --continue"
    fi
fi

for p in $TODL; do
    if [ ! -f $OUTDIR/$p ]; then
        $DLER $PKG_PATH/$p
        mv $p $OUTDIR/
    fi
done

exit 0
