#!/bin/sh
# dmenu_run improved
# if a command ends with "!", it is started in term.

# in .dmenurc, set colors and font with variables
# $nb $nf $sb $sf $fn are passed to these dmenu opts : -nb -nf -sb -sf -fn
# 	$cat ~/.dmenurc
# 	nb="#2E3440"
# 	nf="#D8DEE9"
# 	sf="#2e3440"
# 	sb="#81A1C1"
# 	l=15
# 	fn="DejaVuSansMono-9"

TERMCMD="xterm -e"
test -s $HOME/.dmenurc && . $HOME/.dmenurc

CMD="$(dmenu_path |\
	dmenu -fn "${fn}" -sb "${sb}" -sf "${sf}" -nb "${nb}" -nf "${nf}")"
case $CMD in
    *\! ) ${TERMCMD} "$(printf "%s" "${CMD}" | cut -d'!' -f1)" & ;;
    * ) ${CMD} & ;;
esac
exit

