#!/bin/sh
# requiert zenity, curl et scrot
# capture d'écran améliorée
# thuban@yeuxdelibad.net
IMAGE=/tmp/scrotup-$(date +%d-%m-%y).png

R=$(zenity --list --height=250 --width=300 --text "Capture d'écran"\
    --column "Capturer..." --hide-header \
    "1: tout l'écran" \
    "2: tout dans 3s" \
    "3: une sélection" \
    "4: une sélection après 3s" \
    "5: et ouvrir dans gimp" \
    "6: et ouvrir dans gimp après 3s" \
    | cut -d':' -f1)
    
case $R in 
    1 ) 
        scrot $IMAGE 
        pixup $IMAGE
        ;;
    2 ) 
        scrot $IMAGE -d 3 
        pixup $IMAGE
        ;;
    3 ) 
        scrot $IMAGE -s 
        pixup $IMAGE
        ;;
    4 ) 
        scrot $IMAGE -s -d 3 
        pixup $IMAGE
        ;;
    5 ) 
        cd /tmp && scrot $IMAGE -d 1 -e 'gimp $f'
        pixup $IMAGE
        ;;
    6 ) 
        cd /tmp && scrot $IMAGE -d 3 -e 'gimp $f'
        pixup $IMAGE
        ;;
esac

exit 0
